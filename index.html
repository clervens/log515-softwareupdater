<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <link rel="stylesheet" href="./style.css?1">
  </head>
  <body class="carret">
    <div class="page">
        <h1>Hello World!</h1>
        We are using node <script>document.write(process.versions.node)</script>,
        Chrome <script>document.write(process.versions.chrome)</script>,
        and Electron <script>document.write(process.versions.electron)</script>.
        <ul id="applicationList">

        </ul>
    </div>
    <script>
      const ApplicationManager = require('./model/ApplicationManager');
      ApplicationManager.get().then(function(appList){
        console.log("try show list");
        let htmlList = document.getElementById("applicationList");
        console.log(appList);

        for(let i=0; i< appList.length; i++){
            let el = appList[i];
            let li = document.createElement("li");
            let text = document.createTextNode(el.Name + " " + el.Version);
            li.appendChild(text);
            htmlList.appendChild(li);
        }
      });
      let body = document.getElementsByTagName('body')[0];
      body.classList.add(process.platform);
    </script>
  </body>
</html>
